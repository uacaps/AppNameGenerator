Array.prototype.forEach=function(e){var t=this.length;for(var n=0;n<t;++n){e(this[n])}};Array.prototype.where=function(e){var t=this.length;var n=[];for(var r=0;r<t;++r){if(e(this[r]))n.push(this[r])}return n};Array.prototype.select=function(e){var t=this.length;var n=[];for(var r=0;r<t;++r){n.push(e(this[r]))}return n};Array.prototype.any=function(e){var t=this.length;for(var n=0;n<t;++n){if(e(this[n]))return true}return false};Array.prototype.all=function(e){var t=this.length;for(var n=0;n<t;++n){if(!e(this[n]))return false}return true};Array.prototype.contains=function(e,t){t=t||function(e,t){return e==t};var n=this.length;for(var r=0;r<n;++r){if(t(e,this[r]))return true}return false};Array.prototype.distinct=function(e){e=e||function(e){return e};var t=this.length;var n=[];for(var r=0;r<t;++r){if(!n.contains(this[r],function(t,n){return e(t)==e(n)}))n.push(this[r])}return n};Array.prototype.first=function(e){var t=this.length;for(var n=0;n<t;++n){if(e(this[n]))return this[n]}return null};Array.prototype.last=function(e){for(var t=this.length-1;t>=0;--t){if(e(this[t]))return this[t]}return null};Array.prototype.groupBy=function(e){var t=this.select(e).distinct();var n=[];var r=t.length;for(var i=0;i<r;++i){var s=t[i];n.push({key:s,values:this.where(function(t){return e(t)==s})})}return n};Array.prototype.orderBy=function(e){var t=this.splice(0,this.length);t.sort(e);return t};Array.prototype.orderByDescending=function(e){var t=this.splice(0,this.length);t.sort(function(t,n){return e(t,n)*-1});return t};Array.prototype.union=function(e,t){t=t||function(e,t){return e==t};var n=this.distinct(),r=e.distinct();var i=0,s=0,o=n.length;l2=r.length,item1=null,item2=null,found=false;for(i=0;i<l2;++i){item1=r[i];if(!n.contains(item1,t))n.push(item1)}return n};Array.prototype.intersect=function(e,t){t=t||function(e,t){return e==t};var n=this.distinct(),r=e.distinct();var i=0,s=0,o=n.length;l2=r.length,item1=null,item2=null;var u=[];for(;i<o;++i){item1=n[i];for(s=0;s<l2;++s){if(t(item1,r[s])){u.push(item1);break}}}return u}